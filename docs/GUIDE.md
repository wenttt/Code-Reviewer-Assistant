# AI Code Reviewer - ä½¿ç”¨æŒ‡å—

## ç›®å½•

1. [å¿«é€Ÿå¼€å§‹](#1-å¿«é€Ÿå¼€å§‹)
2. [è¯¦ç»†é…ç½®](#2-è¯¦ç»†é…ç½®)
3. [åŠŸèƒ½è¯´æ˜](#3-åŠŸèƒ½è¯´æ˜)
4. [API Keyè·å–æŒ‡å—](#4-api-keyè·å–æŒ‡å—)
5. [å¸¸è§é—®é¢˜](#5-å¸¸è§é—®é¢˜)
6. [æœ¬åœ°å¼€å‘](#6-æœ¬åœ°å¼€å‘)

---

## 1. å¿«é€Ÿå¼€å§‹

### 1.1 ä¸‰æ­¥å¼€å§‹ä½¿ç”¨

```
æ­¥éª¤1: è·å– GitHub Token
æ­¥éª¤2: è·å– DeepSeek API Key (æ¨è) æˆ–å…¶ä»–AIæ¨¡å‹çš„Key
æ­¥éª¤3: æ‰“å¼€åº”ç”¨ï¼Œé…ç½®Tokenï¼Œé€‰æ‹©PRï¼Œå¼€å§‹å®¡æŸ¥
```

### 1.2 æœ€å°é…ç½®ç¤ºä¾‹

```yaml
GitHub Token: ghp_xxxxxxxxxxxxxxxxxxxx
DeepSeek API Key: sk-xxxxxxxxxxxxxxxxxxxx
```

é…ç½®å®Œæˆåï¼Œé€‰æ‹©ä»“åº“ â†’ é€‰æ‹©PR â†’ ç‚¹å‡»"å¼€å§‹AIä»£ç å®¡æŸ¥"

---

## 2. è¯¦ç»†é…ç½®

### 2.1 GitHub Token é…ç½®

#### ä¸ºä»€ä¹ˆéœ€è¦GitHub Tokenï¼Ÿ
- è¯»å–æ‚¨çš„ä»“åº“åˆ—è¡¨
- è·å–PRçš„è¯¦ç»†ä¿¡æ¯å’Œä»£ç diff
- è·å–å®Œæ•´æ–‡ä»¶å†…å®¹ï¼ˆç”¨äºä¸Šä¸‹æ–‡åˆ†æï¼‰

#### éœ€è¦çš„æƒé™
- `repo` - å®Œæ•´ä»“åº“è®¿é—®æƒé™ï¼ˆç§æœ‰ä»“åº“å¿…éœ€ï¼‰
- `public_repo` - ä»…å…¬å¼€ä»“åº“è®¿é—®ï¼ˆå¦‚æœåªå®¡æŸ¥å…¬å¼€ä»“åº“ï¼‰

#### åˆ›å»ºæ­¥éª¤
1. ç™»å½•GitHubï¼Œè¿›å…¥ **Settings**
2. å·¦ä¾§èœå•é€‰æ‹© **Developer settings**
3. é€‰æ‹© **Personal access tokens** â†’ **Tokens (classic)**
4. ç‚¹å‡» **Generate new token** â†’ **Generate new token (classic)**
5. å¡«å†™Tokenæè¿°ï¼Œå¦‚ "AI Code Reviewer"
6. å‹¾é€‰ `repo` æƒé™
7. ç‚¹å‡» **Generate token**
8. âš ï¸ ç«‹å³å¤åˆ¶Tokenï¼Œå…³é—­é¡µé¢åæ— æ³•å†æ¬¡æŸ¥çœ‹

### 2.2 AIæ¨¡å‹é…ç½®

#### æ–¹æ¡ˆA: DeepSeek (æ¨è)

**ä¼˜ç‚¹:**
- ä»·æ ¼ä¾¿å®œï¼ˆçº¦ä¸ºOpenAIçš„1/10ï¼‰
- ä»£ç ç†è§£èƒ½åŠ›å¼º
- ä¸­æ–‡æ”¯æŒå¥½
- APIç¨³å®š

**é…ç½®:**
```yaml
Provider: DeepSeek
API Key: sk-xxxxxxxxxxxx (ä»platform.deepseek.comè·å–)
Model: deepseek-chat (æ¨è) æˆ– deepseek-coder
```

#### æ–¹æ¡ˆB: OpenAI

**ä¼˜ç‚¹:**
- ç»¼åˆèƒ½åŠ›æœ€å¼º
- ç”Ÿæ€æˆç†Ÿ

**é…ç½®:**
```yaml
Provider: OpenAI
API Key: sk-xxxxxxxxxxxx
Model: gpt-4o (æ¨è) / gpt-4-turbo / gpt-3.5-turbo
Base URL: ç•™ç©º æˆ– è‡ªå®šä¹‰ä»£ç†åœ°å€
```

#### æ–¹æ¡ˆC: Ollama (æœ¬åœ°æ¨¡å‹)

**ä¼˜ç‚¹:**
- å®Œå…¨å…è´¹
- æ•°æ®ä¸å‡ºæœ¬åœ°ï¼Œç»å¯¹å®‰å…¨
- æ— éœ€ç½‘ç»œ

**é…ç½®:**
```yaml
Provider: Ollama
Base URL: http://localhost:11434
Model: codellama / deepseek-coder / llama3
```

**å‰ç½®è¦æ±‚:**
1. å®‰è£…Ollama: https://ollama.ai/download
2. æ‹‰å–æ¨¡å‹: `ollama pull codellama`
3. å¯åŠ¨æœåŠ¡: `ollama serve`

### 2.3 é«˜çº§é€‰é¡¹

| é€‰é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| æ•æ„Ÿä¿¡æ¯è¿‡æ»¤ | âœ… å¼€å¯ | è‡ªåŠ¨æ£€æµ‹å¹¶è„±æ•API Keyã€å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ |
| ä¸Šä¸‹æ–‡å¢å¼º | âœ… å¼€å¯ | è·å–å®Œæ•´æ–‡ä»¶å†…å®¹ï¼Œæä¾›æ›´å‡†ç¡®çš„å®¡æŸ¥ |

---

## 3. åŠŸèƒ½è¯´æ˜

### 3.1 å®¡æŸ¥æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®¡æŸ¥æµç¨‹                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. éªŒè¯Token â†’ è·å–ç”¨æˆ·ä¿¡æ¯å’Œä»“åº“åˆ—è¡¨                    â”‚
â”‚                    â†“                                    â”‚
â”‚  2. é€‰æ‹©ä»“åº“ â†’ è·å–è¯¥ä»“åº“çš„PRåˆ—è¡¨                        â”‚
â”‚                    â†“                                    â”‚
â”‚  3. é€‰æ‹©PR â†’ åˆ†æPRå¤æ‚åº¦ï¼Œæ˜¾ç¤ºé¢„è§ˆ                      â”‚
â”‚                    â†“                                    â”‚
â”‚  4. å¼€å§‹å®¡æŸ¥:                                           â”‚
â”‚     a. è·å–PRè¯¦æƒ…å’Œæ‰€æœ‰æ–‡ä»¶çš„diff                        â”‚
â”‚     b. æ•æ„Ÿä¿¡æ¯è¿‡æ»¤ï¼ˆå¯é€‰ï¼‰                              â”‚
â”‚     c. å¤§PRè‡ªåŠ¨åˆ†ç‰‡                                     â”‚
â”‚     d. è·å–å®Œæ•´æ–‡ä»¶ä¸Šä¸‹æ–‡ï¼ˆå¯é€‰ï¼‰                        â”‚
â”‚     e. è°ƒç”¨AIæ¨¡å‹è¿›è¡Œå®¡æŸ¥                               â”‚
â”‚     f. èšåˆç»“æœå¹¶å±•ç¤º                                   â”‚
â”‚                    â†“                                    â”‚
â”‚  5. æŸ¥çœ‹å®¡æŸ¥æŠ¥å‘Š                                        â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å®¡æŸ¥ç»´åº¦

| ç»´åº¦ | æƒé‡ | æ£€æŸ¥å†…å®¹ |
|------|------|----------|
| **ä»£ç è´¨é‡** | 30% | å¯è¯»æ€§ã€å‘½åè§„èŒƒã€ä»£ç ç»“æ„ã€æ³¨é‡Š |
| **æ½œåœ¨Bug** | 25% | é€»è¾‘é”™è¯¯ã€è¾¹ç•Œæ¡ä»¶ã€å¼‚å¸¸å¤„ç†ã€ç±»å‹å®‰å…¨ |
| **å®‰å…¨é—®é¢˜** | 20% | è¾“å…¥éªŒè¯ã€æ³¨å…¥æ”»å‡»ã€æ•æ„Ÿä¿¡æ¯ã€æƒé™æ§åˆ¶ |
| **æ€§èƒ½é—®é¢˜** | 15% | ç®—æ³•æ•ˆç‡ã€èµ„æºä½¿ç”¨ã€æŸ¥è¯¢ä¼˜åŒ–ã€ç¼“å­˜ |
| **æœ€ä½³å®è·µ** | 10% | è®¾è®¡æ¨¡å¼ã€ä»£ç å¤ç”¨ã€æµ‹è¯•è¦†ç›– |

### 3.3 è¯„åˆ†æ ‡å‡†

| åˆ†æ•° | ç­‰çº§ | è¯´æ˜ |
|------|------|------|
| 90-100 | ğŸ† ä¼˜ç§€ | ä»£ç è´¨é‡é«˜ï¼Œå‡ ä¹æ— é—®é¢˜ |
| 80-89 | ğŸ‘ è‰¯å¥½ | æœ‰å°‘é‡å°é—®é¢˜ |
| 70-79 | ğŸ¤” ä¸€èˆ¬ | æœ‰ä¸€äº›éœ€è¦æ”¹è¿›çš„åœ°æ–¹ |
| 60-69 | âš ï¸ è¾ƒå·® | å­˜åœ¨æ˜æ˜¾é—®é¢˜ |
| 0-59 | âŒ éœ€é‡æ„ | éœ€è¦é‡å¤§ä¿®æ”¹ |

### 3.4 é—®é¢˜ä¸¥é‡ç¨‹åº¦

| çº§åˆ« | å›¾æ ‡ | è¯´æ˜ |
|------|------|------|
| Critical | ğŸ”´ | ä¸¥é‡é—®é¢˜ï¼Œå¿…é¡»ä¿®å¤ï¼ˆå¦‚å®‰å…¨æ¼æ´ã€ä¸¥é‡Bugï¼‰ |
| Major | ğŸŸ  | é‡è¦é—®é¢˜ï¼Œå»ºè®®ä¿®å¤ï¼ˆå¦‚é€»è¾‘é—®é¢˜ã€æ€§èƒ½éšæ‚£ï¼‰ |
| Minor | ğŸŸ¡ | å°é—®é¢˜ï¼Œå¯é€‰ä¿®å¤ï¼ˆå¦‚ä»£ç é£æ ¼ã€å‘½åä¸è§„èŒƒï¼‰ |
| Info | ğŸ”µ | æç¤ºä¿¡æ¯ï¼ˆå¦‚æ”¹è¿›å»ºè®®ã€æœ€ä½³å®è·µï¼‰ |

### 3.5 å®‰å…¨è¿‡æ»¤

è‡ªåŠ¨æ£€æµ‹å¹¶è„±æ•ä»¥ä¸‹æ•æ„Ÿä¿¡æ¯ï¼š

```
- API Keys: OpenAI (sk-xxx), GitHub (ghp_xxx), AWS (AKIA...)
- å¯†ç : password=xxx, db_pass=xxx
- Token: JWT, access_token, bearer token
- ç§é’¥: RSA/SSH PRIVATE KEY
- è¿æ¥å­—ç¬¦ä¸²: mongodb://user:pass@host
- å†…ç½‘IP: 10.x.x.x, 192.168.x.x, 172.16-31.x.x
```

### 3.6 å¤§PRå¤„ç†

å½“PRåŒ…å«å¤§é‡æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š

1. **åˆ†ç±»æ–‡ä»¶**
   - ğŸ”´ Critical: æ ¸å¿ƒä¸šåŠ¡ä»£ç ã€å®‰å…¨ç›¸å…³
   - ğŸŸ  High: é‡è¦ä»£ç æ–‡ä»¶
   - ğŸŸ¡ Medium: é…ç½®æ–‡ä»¶
   - ğŸŸ¢ Low: æµ‹è¯•ã€æ–‡æ¡£

2. **è¿‡æ»¤è·³è¿‡**
   - package-lock.json, yarn.lock
   - æ„å»ºäº§ç‰© (dist/, build/)
   - è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶ (.generated.)
   - å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºæ–‡ä»¶

3. **æ™ºèƒ½åˆ†ç‰‡**
   - æ¯ç‰‡æœ€å¤š8000 tokens
   - æŒ‰ä¼˜å…ˆçº§æ’åºï¼Œé‡è¦æ–‡ä»¶å…ˆå®¡
   - è‡ªåŠ¨èšåˆå¤šä¸ªåˆ†ç‰‡çš„ç»“æœ

---

## 4. API Keyè·å–æŒ‡å—

### 4.1 DeepSeek API Key

1. è®¿é—® https://platform.deepseek.com/
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ **API Keys** é¡µé¢
4. ç‚¹å‡» **åˆ›å»º API Key**
5. å¤åˆ¶ç”Ÿæˆçš„Key

**ä»·æ ¼å‚è€ƒ** (2024):
- deepseek-chat: Â¥1/ç™¾ä¸‡tokens
- deepseek-coder: Â¥1/ç™¾ä¸‡tokens

### 4.2 OpenAI API Key

1. è®¿é—® https://platform.openai.com/
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ **API Keys** é¡µé¢
4. ç‚¹å‡» **Create new secret key**
5. å¤åˆ¶ç”Ÿæˆçš„Key

**ä»·æ ¼å‚è€ƒ** (2024):
- gpt-4o: $5/ç™¾ä¸‡è¾“å…¥tokens, $15/ç™¾ä¸‡è¾“å‡ºtokens
- gpt-3.5-turbo: $0.5/ç™¾ä¸‡è¾“å…¥tokens

### 4.3 GitHub Token

1. è®¿é—® https://github.com/settings/tokens
2. ç‚¹å‡» **Generate new token (classic)**
3. å‹¾é€‰ `repo` æƒé™
4. ç‚¹å‡» **Generate token**
5. å¤åˆ¶ç”Ÿæˆçš„Token

---

## 5. å¸¸è§é—®é¢˜

### Q1: å®¡æŸ¥æ—¶é—´å¾ˆé•¿æ€ä¹ˆåŠï¼Ÿ

**åŸå› **: PRåŒ…å«å¤§é‡æ–‡ä»¶ï¼Œéœ€è¦åˆ†å¤šç‰‡å®¡æŸ¥

**è§£å†³æ–¹æ¡ˆ**:
- ç­‰å¾…å®Œæˆï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†ç‰‡å¤„ç†
- æŸ¥çœ‹"PRåˆ†æé¢„è§ˆ"äº†è§£é¢„è®¡æ—¶é—´
- å¤§PRå»ºè®®æ‹†åˆ†æˆå°PRæäº¤

### Q2: æç¤º"Tokenæ— æ•ˆ"ï¼Ÿ

**æ£€æŸ¥**:
- GitHub Tokenæ˜¯å¦å·²è¿‡æœŸ
- Tokenæ˜¯å¦æœ‰`repo`æƒé™
- æ˜¯å¦æ­£ç¡®å¤åˆ¶äº†å®Œæ•´Token

### Q3: AIå®¡æŸ¥ç»“æœä¸å‡†ç¡®ï¼Ÿ

**å»ºè®®**:
- å¼€å¯"ä¸Šä¸‹æ–‡å¢å¼º"è·å–æ›´å¤šä¿¡æ¯
- ä½¿ç”¨æ›´å¼ºçš„æ¨¡å‹ï¼ˆgpt-4o > deepseek-chat > gpt-3.5ï¼‰
- ç¡®ä¿PRæè¿°æ¸…æ™°ï¼Œè¯´æ˜å˜æ›´ç›®çš„

### Q4: æ‹…å¿ƒä»£ç å®‰å…¨æ€ä¹ˆåŠï¼Ÿ

**æ–¹æ¡ˆ**:
1. å¼€å¯"æ•æ„Ÿä¿¡æ¯è¿‡æ»¤"ï¼ˆé»˜è®¤å¼€å¯ï¼‰
2. ä½¿ç”¨Ollamaæœ¬åœ°æ¨¡å‹ï¼Œä»£ç ä¸å‡ºæœ¬åœ°
3. ä½¿ç”¨ç§æœ‰éƒ¨ç½²çš„AIæœåŠ¡

### Q5: æ”¯æŒå“ªäº›ç¼–ç¨‹è¯­è¨€ï¼Ÿ

**å®Œæ•´æ”¯æŒ** (æœ‰ä¸“é—¨çš„è§£æå™¨):
- Python, JavaScript/TypeScript
- Java, Go, Rust
- C/C++, C#, Ruby, PHP

**åŸºç¡€æ”¯æŒ** (é€šç”¨ä»£ç å®¡æŸ¥):
- æ‰€æœ‰æ–‡æœ¬æ ¼å¼çš„ä»£ç æ–‡ä»¶

---

## 6. æœ¬åœ°å¼€å‘

### 6.1 ç¯å¢ƒè¦æ±‚

```bash
Python 3.9+
Node.js 18+
```

### 6.2 å®‰è£…ä¾èµ–

```bash
# åç«¯
cd backend
pip install -r requirements.txt

# å‰ç«¯
cd frontend
npm install
```

### 6.3 å¯åŠ¨æœåŠ¡

```bash
# ç»ˆç«¯1: å¯åŠ¨åç«¯
cd backend
python main.py
# æœåŠ¡è¿è¡Œåœ¨ http://localhost:8000

# ç»ˆç«¯2: å¯åŠ¨å‰ç«¯
cd frontend
npm run dev
# æœåŠ¡è¿è¡Œåœ¨ http://localhost:3000
```

### 6.4 é¡¹ç›®ç»“æ„

```
ai-code-reviewer/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py              # FastAPIä¸»åº”ç”¨
â”‚   â”œâ”€â”€ github_client.py     # GitHub APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ ai_reviewer.py       # AIå®¡æŸ¥å¼•æ“
â”‚   â”œâ”€â”€ security.py          # æ•æ„Ÿä¿¡æ¯è¿‡æ»¤
â”‚   â”œâ”€â”€ chunker.py           # å¤§PRåˆ†ç‰‡å¤„ç†
â”‚   â”œâ”€â”€ context_analyzer.py  # ä¸Šä¸‹æ–‡åˆ†æ
â”‚   â””â”€â”€ requirements.txt     # Pythonä¾èµ–
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx          # Reactä¸»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.jsx         # å…¥å£æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ index.css        # æ ·å¼
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ PRD.md               # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â””â”€â”€ GUIDE.md             # ä½¿ç”¨æŒ‡å—ï¼ˆæœ¬æ–‡æ¡£ï¼‰
â””â”€â”€ README.md
```

### 6.5 APIç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/auth/validate` | POST | éªŒè¯GitHub Token |
| `/api/repos` | GET | è·å–ä»“åº“åˆ—è¡¨ |
| `/api/repos/{owner}/{repo}/pulls` | GET | è·å–PRåˆ—è¡¨ |
| `/api/repos/{owner}/{repo}/pulls/{number}` | GET | è·å–PRè¯¦æƒ… |
| `/api/repos/{owner}/{repo}/pulls/{number}/analyze` | GET | åˆ†æPRå¤æ‚åº¦ |
| `/api/review` | POST | æ‰§è¡ŒAIå®¡æŸ¥ |
| `/api/security/check` | POST | æ£€æŸ¥æ•æ„Ÿä¿¡æ¯ |
| `/api/models/providers` | GET | è·å–æ¨¡å‹æä¾›å•†åˆ—è¡¨ |

---

## æ›´æ–°æ—¥å¿—

### v2.0.0 (2024-02)
- âœ¨ æ–°å¢ DeepSeek æ¨¡å‹æ”¯æŒ
- âœ¨ æ–°å¢æ•æ„Ÿä¿¡æ¯è‡ªåŠ¨è¿‡æ»¤
- âœ¨ æ–°å¢å¤§PRæ™ºèƒ½åˆ†ç‰‡
- âœ¨ æ–°å¢å®Œæ•´æ–‡ä»¶ä¸Šä¸‹æ–‡
- âœ¨ æ–°å¢ Ollama æœ¬åœ°æ¨¡å‹æ”¯æŒ
- ğŸ¨ ä¼˜åŒ–å‰ç«¯ç•Œé¢

### v1.0.0 (2024-02)
- ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- GitHubé›†æˆ
- AIä»£ç å®¡æŸ¥
- åŸºç¡€ç•Œé¢

---

**æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿæ¬¢è¿æIssue!** ğŸ™Œ
